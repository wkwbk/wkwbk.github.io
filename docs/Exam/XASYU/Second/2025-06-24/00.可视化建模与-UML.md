# 可视化建模与 UML

- 时间：10:30 - 12:30
- 地点：
- 监考老师：

## 第一题

场景：高校实验室管理系统中的“预约实验课程”业务。该业务主要涉及教师、实验员和学生三类用户。

**业务描述：**

1. **教师发起预约：** 教师需在浏览实验室空闲时段和设备状态后，提交实验课程预约申请。预约申请可能包含多种信息。
2. **系统检测：** 系统需要自动检测资源是否冲突，例如实验室是否已被占用、设备是否不足或设备状态异常。
3. **待审核状态：** 如果资源可用，预约申请将进入待审核状态。
4. **实验员审批：** 实验员负责审批预约申请。
    - **审批通过：** 如果审批通过，系统将锁定预约的实验室和设备资源（改变其状态为“预约”或“使用中”），并通知教师和学生预约成功。
    - **审批不通过：** 如果审批不通过，实验员需填写原因，并通知教师。学生可以通过系统查看被安排的实验室预约通知。

### 1.1（10 分）

> 问：请说明“4+1”视图模型包含哪些视图以及各自的主要关注点是什么，结合预约实验课程业务的需求描述，说明运用 UML 用例图构建该业务场景视图的步骤。

答：

- **“4+1”视图模型包含：** 逻辑视图、开发视图、进程视图、部署视图、场景视图。
  - **逻辑视图：** 关注系统的功能需求和静态结构（如类、对象、关系），描述系统提供什么功能。
  - **开发视图：** 关注系统的静态组织结构（如模块、组件、包及其依赖关系），描述如何分解和构建软件。
  - **进程视图：** 关注系统的动态行为、并发性、同步通信（如进程、线程）。
  - **部署视图：** 关注系统的物理部署、硬件配置、网络拓扑（如节点、设备、连接），描述软件如何映射到硬件。
  - **场景视图：** 整合其他视图，通过用例或场景（通常用用例图描述）展示系统如何满足用户需求，验证设计的有效性。
- **运用用例图构建预约实验课程业务的场景视图需经过以下步骤：** 识别参与者、提取用例、确定关系并绘制用例图。
  - **识别参与者：** 主要有教师（发起预约请求）、实验员（审批预约申请）、学生（接收预约通知）、系统（处理资源冲突）。
  - **核心用例：** 主要有浏览实验室空闲时段、浏览设备状态、提交预约申请、查看历史预约、审批预约申请、检查资源冲突、查看预约通知。

### 1.2

> 问：针对预约实验课程业务的需求描述，请补全用例图（此处应附图，但文本无法展示，故以文字描述用例关系）。

答：

- **教师：**
  - **预约实验课程** (主用例)
    - `<<include>>` **浏览实验室空闲时段**
    - `<<include>>` **浏览设备状态**
    - `<<extend>>` **提交预约申请** (扩展点：资源冲突)
      - `<<include>>` **检查资源冲突**
- **实验员：**
  - **审批预约申请** (主用例)
    - `<<include>>` **锁定资源**
    - `<<include>>` **通知教师和学生**
- **学生：**
  - **查看预约通知**

![001](./assets/001.png)

## 第二题

场景：高校实验室仪器设备生命周期管理。该业务主要关注实验室中仪器设备的采购、登记、使用、维护、维修、报废等全过程管理。

**业务描述：**

1. **核心实体对象：** 主要包括设备、维修记录、报废申请等。
2. **参与者：** 主要参与者有实验员和管理员。
3. **对象属性与方法：**
    - **设备：** 包含设备编号、名称、状态（如“正常”、“维修中”、“报废”等）等属性；具有更新状态、登记维修、发起报废等方法。
    - **维修记录：** 记录维修时间、维修人员、维修内容、费用等信息。
    - **报废申请：** 记录申请编号、设备信息、报废原因、申请人、申请时间等信息。
4. **对象间关系：** 设备与维修记录之间存在一对多关系（一台设备可以有多条维修记录）；设备与报废申请之间存在一对多关系（一台设备可以有多次报废申请，但通常只有一次最终报废）。维修记录和报废申请可能需要管理员的审批。

### 2.1

> 问：结合实验室仪器设备管理业务说明从业务需求抽象类的方法？

答：依据业务需求描述抽象类的方法有 4 个步骤：

1. **识别核心实体对象：** 从业务流程中提取关键名词，这些名词通常对应系统中的主要数据实体，如设备、维修记录、报废申请。
2. **识别业务参与者：** 明确操作系统的角色，这些角色通常对应系统中的用户或外部系统，如实验员、管理员。
3. **定义对象属性与方法：**
    - **属性：** 描述对象的静态特征，如设备编号、名称、状态。
    - **方法：** 描述对象的动态行为或操作，如更新状态、提交申请。
4. **建立对象间关系：** 确定不同类之间的关联、继承、聚合、组合等关系，如继承（实验员 --> 用户），关联（设备 --> 维修记录）。

答：

1. 核心实体对象：设备、维修记录、报废申请
2. 参与者：实验员、管理员
3. 定义对象属性与方法：设备编号、状态，更新状态、提交申请
4. 建立对象间关系：

### 2.2

> 问：从业务层面抽象该业务涉及的类，给出这些类必要的需求属性和方法。

答：该业务涉及的类包括设备、用户、实验员（继承自用户）、管理员（继承自用户）、维修记录、报废申请、审批记录等。

- **设备类：**
  - **主要属性：** 设备编号（唯一标识）、设备名称、设备型号、设备规格、购买日期、当前状态（枚举值：空闲/使用中/维修中/报废）、所属实验室编号。
  - **主要方法：** `更新状态()`、`登记维修()`、`发起报废()`、`自动更新状态()`（根据预约结束时间）。
- **用户基类：**
  - **主要属性：** 用户 ID（唯一标识）、密码、角色类型（枚举值：实验员/管理员）。
  - **主要方法：** `登录()`、`查询设备状态()`。
- **实验员类（继承自用户）：**
  - **主要属性：** （继承用户属性）
  - **主要方法：** `登记维修信息()`、`发起报废申请()`、`审批预约申请()`。
- **管理员类（继承自用户）：**
  - **主要属性：** （继承用户属性）
  - **主要方法：** `审批报废申请()`、`修改设备信息()`、`管理用户()`。
- **维修记录类：**
  - **主要属性：** 维修记录 ID、设备编号、维修时间、维修原因、维修人员、维修费用、维修状态。
  - **主要方法：** `创建维修记录()`、`更新维修记录()`。
- **报废申请类：**
  - **主要属性：** 报废申请 ID、设备编号、申请人 ID、申请时间、报废原因、审批状态。
  - **主要方法：** `提交报废申请()`。
- **审批记录类：**
  - **主要属性：** 审批记录 ID、申请类型（维修/报废）、申请 ID、审批人 ID、审批时间、审批结果、审批意见。
  - **主要方法：** `创建审批记录()`。

![002](./assets/002.png)

## 第三题

场景：

### 3.1

### 3.2

## 第四题

场景：实验教学实施业务经历实验启动、实验实施、实验结束等环节。其中，在实验启动环节，实验室依据预约记录启动教师、学生签到任务，学生扫码签到，实验室记录教师、学生到场时间，同步至实验签到记录表。

### 4.1

问：根据 RUP 统一软件开发过程的理论框架，分析实验室管理系统的开发过程，说明需要设计哪些 UML 模型描述“实验教学实施环节”的业务逻辑？要求给出实体模型名称并简述其用途。

答：根据 RUP 的理论框架，结合业务建模、需求分析、系统设计、实现试等核心工作流。实现“实验教学实施环节”的业务逻辑时，需通过以下 UML 模型进行描述。

### 4.2
