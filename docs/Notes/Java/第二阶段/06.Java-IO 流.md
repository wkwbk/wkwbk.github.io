# Java | IO 流

## 基本概念

- 文件（File）

  - 定义：存储数据的载体，如文本、图片、程序等。
  - 核心作用：通过流对文件进行读写，实现数据持久化。

- 流（Stream）

  - 定义：数据在数据源（如文件）与程序内存之间传输的通道。
  - 核心作用：屏蔽底层细节，提供统一的数据操作接口。

- 输入流（InputStream / Reader）

  - 方向：数据源 → 程序内存  
  - 功能：从文件等数据源读取数据到内存中。  
  - 典型场景：读取文件内容、接收网络数据。

- 输出流（OutputStream / Writer）

  - 方向：程序内存 → 数据源  
  - 功能：将内存中的数据写入文件等数据源。  
  - 典型场景：保存文件、发送数据到网络。

## 文件

- 常用的文件操作

  | 类 别              | 方法/构造方法                       | 描述                                   |
  | ------------------ | ----------------------------------- | -------------------------------------- |
  | 创建文件对象       | `File(String pathname)`             | 通过路径字符串创建 File 对象           |
  |                    | `File(File parent, String child)`   | 通过父目录 File 对象和子路径字符串创建 |
  |                    | `File(String parent, String child)` | 通过父目录字符串和子路径字符串创建     |
  | 获取文件信息       | `getName()`                         | 获取文件或目录的名称                   |
  |                    | `getAbsolutePath()`                 | 获取文件或目录的绝对路径字符串         |
  |                    | `getParent()`                       | 获取父目录路径字符串（若无返回 null）  |
  |                    | `length()`                          | 返回文件长度（字节数）                 |
  |                    | `exists()`                          | 判断文件或目录是否存在                 |
  |                    | `isFile()`                          | 判断是否为文件                         |
  |                    | `isDirectory()`                     | 判断是否为目录                         |
  | 目录操作和文件删除 | `mkdir()`                           | 创建单层目录（要求父目录必须存在）     |
  |                    | `mkdirs()`                          | 递归创建多层目录（自动补齐缺失父目录） |
  |                    | `delete()`                          | 删除文件或空目录（目录必须为空）       |

## 流

- IO 流原理

  - I/O 是 Input/Output 的缩写，I/O 技术用于处理数据传输，比如文件读写、网络通信等。  
  - Java 通过流的方式进行数据的输入和输出操作。
  - 在 `java.io` 包下，提供了多种流类和接口，用于处理不同类型的数据输入和输出。  
  - 输入（Input）：将外部存储设备（如磁盘、光盘）的数据读取到程序（内存）中。  
  - 输出（Output）：将程序（内存）中的数据写入到外部存储设备（如磁盘、光盘）。  

- 流的分类

  | 分类方式       | 类型   | 说明                                                  |
  | -------------- | ------ | ----------------------------------------------------- |
  | 按操作数据类型 | 字节流 | 处理二进制数据，如声音、视频、Word 文件等，可无损操作 |
  |                | 字符流 | 处理文本文件                                          |
  | 按数据流的流向 | 输入流 | 读取外部数据到内存                                    |
  |                | 输出流 | 将内存中的数据写入外部存储设备                        |
  | 按功能         | 节点流 | 直接操作数据源                                        |
  |                | 处理流 | 包装其他流，提供缓冲、转换等功能                      |

- 抽象基类

  |        | 字节流         | 字符流   |
  | ------ | -------------- | -------- |
  | 输入流 | `InputStream`  | `Reader` |
  | 输出流 | `OutputStream` | `Weiter` |

  > Java 的 IO 流共涉及 40 多个类，实际上非常规则，都是从如上 4 个抽象基类派生的。
  >
  > 由这四个类派生出来的子类名称都是以其父类名作为子类名后缀。

- IO 流体系图

  ![PixPin_2025-01-31_21-27-43](https://img.lisir.me/image/pages/PixPin_2025-01-31_21-27-43.png)
